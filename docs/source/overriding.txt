Overriding configuration
========================

OmegaConf supports overriding configurations easily, let's say you have a file with the perfect
configuration, you want to use that but you want to make just a few small changes.

.. testcode::

    conf = OmegaConf.from_filename('source/example.yaml')
    conf.update('server.port', 8081)
    print(conf.server.port)


Output:

.. testoutput::

    8081

You could also merge whole config files:

Base file, example.yaml:

.. include:: example.yaml
   :code: yaml

Overriding file example2.yaml:

.. include:: example2.yaml
   :code: yaml

.. testcode:: loaded

    conf1 = OmegaConf.from_filename('example.yaml')
    conf2 = OmegaConf.from_filename('example2.yaml')
    conf = OmegaConf.merge(conf1, conf2)
    print(conf.server.port)
    print(conf.log.file)
    print(conf.log.rotation)

Output:

.. testoutput:: loaded

    8081
    /tmp/log.txt
    3600